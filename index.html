<html>
  <head>
    <script class="text/javascript">
      window.guides = {
        '100% (advanced)': 'WG_100_advanced_final2',
        '100%': 'WG_100_final2',
        'All Discarded Panels': 'WG_all_discards',
        'All Discarded Panels Low%': 'WG_all_discards_low',
        'All Lasers': 'WG_all_lasers_final',
        'Any%': 'WG_any_v3',
        'Low%': 'WG_low_final',
      }
      window.onload = function() {
        var guideChooser = document.getElementById('guideChooser')
        var nextPicture = document.getElementById('nextPicture')

        for (var guide of Object.keys(window.guides)) {
          var option = document.createElementById('option')
          option.innerText = guide
        }
        // Defaults on page load
        guideChooser.value = 'Any%'
        nextPicture.setAttribute('index', 0)
        nextPicture.src = '/WG_any_v3/00000.png'
        nextPicture.style.display = null

        // Function that runs when you change guides
        guideChooser.onchange = function() {
          nextPicture.setAttribute('index', 0)
          nextPicture.src = '/' + window.guides[guideChooser.value] + '00000.png'
        }

        // Function that runs when you click on the image
        nextPicture.onclick = function(event) {
          var isRightClick = event.which === 3 || (event.touches && event.touches.length > 1)
          var index = nextPicture.getAttribute('index')
          nextIndex = nextIndex + (isRightClick ? -1 : 1)
          if (nextIndex < 0) nextIndex = 0
          nextPicture.setAttribute('index', nextIndex)
          nextPicture.src = '/' + window.guides[guideChooser.value] + '/' + nextIndex.toString().padLeft('0', 5) + '.png'
        }
      }
    </script>
  </head>
  <body>
    <select id="guideChooser"></select>
    <img id="nextPicture" style="display:none" />
  </body>
</html>
